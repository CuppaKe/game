!function(e){var a={};function t(n){if(a[n])return a[n].exports;var s=a[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var s in e)t.d(n,s,function(a){return e[a]}.bind(null,s));return n},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="",t(t.s=0)}([function(e,a,t){"use strict";t.r(a);var n=function(){setTimeout(()=>{document.querySelector(".preloader").classList.toggle("preload_done")},1e3)};const s=e=>Math.floor(Math.random()*e),r=e=>new Promise(a=>{setTimeout(()=>a(),e)});function o(){const e=document.querySelector("audio");e.paused?e.play():(e.pause(),e.currentTime=0)}function i(){const e=document.querySelector(".space");e.style.animationPlayState="running"===e.style.animationPlayState?"paused":"running"}var c=class{constructor(){this.health=100,this.score=0,this.maxDamage=15,this.missileDamage=20,this.name=""}getDamage(e){this.health-=s(e+1),this.health=this.health<0?0:this.health}restore(){this.health+=s(101-this.health),this.health=this.health>100?100:this.health}addScore(e){this.score+=s(e+1)}setName(e,a){this.name=`${e.first[s(e.first.length)]} ${e.second[s(e.second.length)]} ${e.third[s(e.third.length)]}`,a.innerHTML=this.name}setUserName(){this.name=document.querySelector("input").value}reset(e){this.name="",this.health=100,this.score=0,e.style.width=`${this.health}%`}};const l=[{ask:"cat",variants:["кот","пес","мышь","кролик"],key:"кот"},{ask:"dog",variants:["кот","собака","мышь","кролик"],key:"собака"},{ask:"table",variants:["стул","диван","стол","кровать"],key:"стол"},{ask:"mouse",variants:["кот","собака","мышь","кролик"],key:"мышь"},{ask:"rabbit",variants:["кот","пес","мышь","кролик"],key:"кролик"},{ask:"elephant",variants:["жираф","лев","слон","тигр"],key:"слон"},{ask:"lion",variants:["жираф","лев","слон","тигр"],key:"лев"},{ask:"chair",variants:["стол","диван","стул","тумба"],key:"стул"},{ask:"car",variants:["велосипед","машина","мотоцикл","трамвай"],key:"машина"},{ask:"plane",variants:["план","самолет","плот","радуга"],key:"самолет"}];l.start="Translate into Russian the word";const d=[{ask:"дом",variants:["door","window","house","roof"],key:"house"},{ask:"молоко",variants:["milk","juice","soda","mile"],key:"milk"},{ask:"ручка",variants:["pencil","pen","brush","pillow"],key:"pen"},{ask:"солдат",variants:["general","soldier","companion","sold"],key:"soldier"},{ask:"мама",variants:["mother","father","sister","brother"],key:"mother"},{ask:"море",variants:["lake","river","ocean","sea"],key:"sea"},{ask:"яблоко",variants:["orange","pine","apple","avocado"],key:"apple"},{ask:"книга",variants:["book","note","jotter","pad"],key:"book"},{ask:"кровать",variants:["beg","bear","bed","base"],key:"bed"},{ask:"облако",variants:["clown","cloud","crown","climb"],key:"cloud"}];d.start="Translate into English the word";const u=[{ask:"Austria",variants:["Brussels","Vienna","Prague","Tallinn"],key:"Vienna"},{ask:"Iceland",variants:["Dublin","Tegucigalpa","Pristina","Reykjavik"],key:"Reykjavik"},{ask:"Latvia",variants:["Vilnius","Valletta","Riga","Tallinn"],key:"Riga"},{ask:"Morocco",variants:["Maputo","Rabat","Managua","Manila"],key:"Rabat"},{ask:"Romania",variants:["Astana","Budapest","Bucharest","Vaduz"],key:"Bucharest"},{ask:"Peru",variants:["Lima","Muscat","Lisbon","Kathmandu"],key:"Lima"},{ask:"Slovakia",variants:["Kampala","Belgrade","Ljubljana","Bratislava"],key:"Bratislava"},{ask:"Venezuela",variants:["Caracas","Lusaka","Montevideo","Asuncion"],key:"Caracas"},{ask:"Belarus",variants:["Moscow","Vilnius","Minsk","Kyiv"],key:"Minsk"},{ask:"Uzbekistan",variants:["Ashgabat","Tashkent","Islamabad","Ulaanbaatar"],key:"Tashkent"}];u.start="What is the capital of";const m={first:["space","bloody","greedy","funky","powerful","stinky","black"],second:["pirate","corsair","marauder","raider","stranger","thug","rascal"],third:["Nick","Arnold","Jimmy","Teodor","Ivan","Valera"]},h=document.createElement("div");h.className="cover";const y=document.createElement("div");y.className="inner-modal";const k=document.createElement("table");k.className="scoreboard";const p=document.querySelector(".space"),v=document.querySelector(".player_name"),g=document.querySelector(".enemy_name"),f=document.querySelector(".inner_player_health"),b=document.querySelector(".inner_enemy_health"),S="user_ship_container",L="enemy_ship_container";async function w(e,a){const t=document.createElement("div");t.className=e,document.querySelector(".space").append(t);for(let e=0;e<3;e++){const e=new Image(100,100);e.src=`./assets/ships/${s(5)}.png`,t.append(e)}await r(500),t.style.left=`${a}%`}function M(){const e=localStorage.getItem("records")?JSON.parse(localStorage.getItem("records")).sort((e,a)=>a.score-e.score):JSON.parse(localStorage.getItem("records"));let a="<th>Rank</th><th>User name</th><th>Score</th><th>Date</th>";e.forEach((e,t)=>{a+=`<tr><td>${t+1}</td><td>${e.user}</td><td>${e.score}</td><td>${e.date}</td></tr>`}),k.innerHTML=a,document.querySelector("body").append(h,k)}const T='<div class="weapon" id="laser">laser</div><div class="weapon" id="missile">missile</div><div class="weapon" id="shield">restore shield</div>',_='<h2>Choose name</h2><input class="name_input" type=text data=name placeholder="Enter name"><button class="play">Start</button>';function N(){const e=_;y.innerHTML=e,document.querySelector("body").append(h,y)}var $=function(e){const a=s(e.length);let t=`<h3 class='question_start'>${e.start} <span class='task_ask'>${e[a].ask}</span></h3>`;return e[a].variants.forEach(n=>{t+=`<div class='pazzle' data-key='${e[a].key}'>${n}</div>`}),y.innerHTML=t,document.querySelector("body").append(h,y),a};async function q(e,a){var t;0===e.health?(!function(e){const a=JSON.parse(localStorage.getItem("records")),t=new Date;a.push({user:e.name,score:e.score,date:`${t.toLocaleString()}`}),localStorage.setItem("records",JSON.stringify(a))}(e),M(),i(),o(),p.innerHTML='<button class="start_game">Repeat</button>',document.querySelector(".start_game").addEventListener("click",N),a.reset(b),e.reset(f)):0===a.health&&(t=L,document.querySelector(`.${t}`).remove(),a.reset(b),await r(500),w(L,90),await r(2e3),a.setName(m,g))}function E({target:e}){"pazzle"===e.className&&(e.innerHTML===e.dataset.key?(H.getDamage(z.maxDamage),z.addScore(z.maxDamage),b.style.width=`${H.health}%`):(z.getDamage(H.maxDamage),f.style.width=`${z.health}%`),q(z,H))}function D({target:e}){"pazzle"===e.className&&(e.innerHTML===e.dataset.key?(H.getDamage(z.missileDamage),z.addScore(z.missileDamage),b.style.width=`${H.health}%`):(z.getDamage(H.missileDamage),f.style.width=`${z.health}%`),q(z,H))}function j({target:e}){"pazzle"===e.className&&(e.innerHTML!==e.dataset.key?(z.getDamage(H.maxDamage),f.style.width=`${z.health}%`):e.innerHTML===e.dataset.key&&(z.restore(),z.addScore(H.maxDamage),f.style.width=`${z.health}%`),q(z,H))}t.d(a,"player",function(){return z}),t.d(a,"villain",function(){return H}),document.body.onload=n;const z=new c,H=new c;document.querySelector(".start_game").addEventListener("click",N),document.querySelector("nav a:last-child").addEventListener("click",M),document.addEventListener("click",function({target:e}){"play"===e.className&&(i(),o(),z.setUserName(),v.innerHTML=z.name,H.setName(m,g),g.innerHTML=H.name,document.querySelector(".start_game").remove(),w(S,3),w(L,90),function(){const e=document.createElement("div");e.className="fight_panel",e.innerHTML="fight panel",document.querySelector(".space").append(e)}())}),document.addEventListener("click",function({target:e}){"cover"!==e.className&&"play"!==e.className&&"pazzle"!==e.className||(h.remove(),y.remove(),k.remove())}),document.addEventListener("click",function({target:e}){"fight_panel"===e.className&&(y.innerHTML=T,document.querySelector("body").append(h,y))}),document.addEventListener("click",function({target:e}){"laser"===e.id&&($(l),document.addEventListener("click",E,{once:!0})),"missile"===e.id&&($(d),document.addEventListener("click",D,{once:!0})),"shield"===e.id&&($(u),document.addEventListener("click",j,{once:!0}))}),document.addEventListener("load",function(){localStorage.getItem("records")||localStorage.setItem("records",JSON.stringify([]))})}]);